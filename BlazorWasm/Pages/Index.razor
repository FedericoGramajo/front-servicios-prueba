@page "/"
@using System.Globalization
@using System.Linq

<div class="landing-page">
    <header class="landing-header" id="inicio">
        <div class="container">
            <div class="topbar d-flex flex-column flex-lg-row align-items-center gap-3 gap-lg-4">
                <a class="brand" href="#inicio">ServicioAhora!</a>
                <form class="search-bar flex-grow-1" role="search">
                    <div class="input-group">
                        <span class="input-group-text"><i class="fa-solid fa-magnifying-glass"></i></span>
                        <input class="form-control" type="search" placeholder="Buscar servicios hogareños en ServicioAhora!" aria-label="Buscar" />
                        <button class="btn btn-primary" type="submit">Buscar</button>
                    </div>
                </form>
                <div class="dropdown">
                    <button class="btn btn-outline-primary dropdown-toggle" type="button" id="userMenu"
                            data-bs-toggle="dropdown" aria-expanded="false">
                        Mi cuenta
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenu">
                        <li><a class="dropdown-item" href="/login">Iniciar sesión</a></li>
                        <li><a class="dropdown-item" href="/register">Registrarse</a></li>
                    </ul>
                </div>
            </div>
            <nav class="nav-menu mt-3">
                <div class="nav nav-pills justify-content-center justify-content-lg-between flex-wrap gap-2">
                    <a class="nav-link" href="#inicio">Inicio</a>
                    <a class="nav-link" href="#services">Servicios</a>
                    <a class="nav-link" href="#professionals">Profesionales</a>
                    <a class="nav-link" href="#garantias">Garantías</a>
                    <a class="nav-link" href="#contacto">Contacto</a>
                </div>
            </nav>
        </div>
    </header>

    <section class="hero-section mb-5">
        <div class="container">
            <div class="row align-items-center g-4">
                <div class="col-lg-7 text-lg-start text-center">
                    <span class="badge text-uppercase mb-3">Bienvenido a ServicioAhora!</span>
                    <h1>Soluciones hogareñas a medida para tu día a día</h1>
                    <p class="lead mt-3">Coordinamos especialistas confiables para limpieza, reparaciones y mantenimiento con
                        garantías claras, pagos protegidos y seguimiento en línea.</p>
                    <div class="hero-cta d-flex flex-wrap gap-3 mt-4">
                        <button class="btn btn-primary rounded-pill px-4 py-3 shadow">Explorar servicios</button>
                        <button class="btn btn-outline-light rounded-pill px-4 py-3">Convertirme en profesional</button>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="metrics-card p-4 text-center text-lg-start">
                        <div class="row g-4">
                            <div class="col-6">
                                <div class="h2 mb-0">+2.400</div>
                                <p class="text-white-50 mb-0 small">Intervenciones hogareñas</p>
                            </div>
                            <div class="col-6">
                                <div class="h2 mb-0">4.9/5</div>
                                <p class="text-white-50 mb-0 small">Satisfacción promedio</p>
                            </div>
                            <div class="col-6">
                                <div class="h2 mb-0">36 hs</div>
                                <p class="text-white-50 mb-0 small">Tiempo de respuesta</p>
                            </div>
                            <div class="col-6">
                                <div class="h2 mb-0">24/7</div>
                                <p class="text-white-50 mb-0 small">Soporte al cliente</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="content-section pt-0" id="services">
        <div class="container">
            <div class="section-heading flex-column flex-lg-row text-lg-start text-center">
                <div>
                    <p class="text-uppercase text-muted small mb-1">Servicios destacados</p>
                    <h2>Aliados de confianza para tu hogar</h2>
                </div>
                <button class="btn btn-link text-decoration-none">Ver catálogo completo <i class="fa-solid fa-arrow-right ms-1"></i></button>
            </div>

            @{ var serviceSlides = ServiceSlides.ToList(); }
            <div id="servicesCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="8000">
                <div class="carousel-inner">
                    @for (var i = 0; i < serviceSlides.Count; i++)
                    {
                        var slide = serviceSlides[i];
                        <div class="carousel-item @(i == 0 ? "active" : string.Empty)">
                            <div class="row g-4">
                                @foreach (var service in slide)
                                {
                                    <div class="col-md-4">
                                        <div class="card service-card h-100">
                                            <img src="@service.ImageUrl" class="card-img-top" alt="Imagen de @service.Name" loading="lazy" />
                                            <div class="card-body">
                                                <span class="badge rounded-pill">@service.Category</span>
                                                <h5 class="card-title mt-3">@service.Name</h5>
                                                <p class="card-text text-muted">@service.Description</p>
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <span class="price-tag">@service.Price.ToString("C0", LocalCulture)</span>
                                                    <button class="btn btn-sm btn-outline-primary rounded-pill">Ver detalles</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    }
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#servicesCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Anterior</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#servicesCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Siguiente</span>
                </button>
            </div>
        </div>
    </section>

    <section class="content-section pt-0" id="professionals">
        <div class="container">
            <div class="surface-card">
                <div class="section-heading flex-column flex-lg-row text-lg-start text-center">
                    <div>
                        <p class="text-uppercase text-muted small mb-1">Profesionales verificados</p>
                        <h2>Conocé a quienes cuidan tu hogar</h2>
                    </div>
                    <button class="btn btn-link text-decoration-none">Sumate como profesional <i class="fa-solid fa-user-plus ms-1"></i></button>
                </div>

                @{ var professionalSlides = ProfessionalSlides.ToList(); }
                <div id="professionalsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="9000">
                    <div class="carousel-inner">
                        @for (var i = 0; i < professionalSlides.Count; i++)
                        {
                            var slide = professionalSlides[i];
                            <div class="carousel-item @(i == 0 ? "active" : string.Empty)">
                                <div class="row g-4">
                                    @foreach (var professional in slide)
                                    {
                                        <div class="col-md-4">
                                            <div class="card professional-card h-100">
                                                <img src="@professional.ImageUrl" class="card-img-top" alt="Foto de @professional.Name" loading="lazy" />
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center justify-content-between mb-2">
                                                        <h5 class="mb-0">@professional.Name</h5>
                                                        <span class="rating"><i class="fa-solid fa-star me-1"></i>@professional.Rating.ToString("0.0")</span>
                                                    </div>
                                                    <p class="text-muted mb-1">@professional.Specialty</p>
                                                    <p class="small text-uppercase fw-semibold text-secondary">@professional.City</p>
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <span class="text-muted small">@professional.Projects proyectos</span>
                                                        <button class="btn btn-sm btn-outline-primary rounded-pill">Contactar</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        }
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#professionalsCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Anterior</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#professionalsCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Siguiente</span>
                    </button>
                </div>

                <div class="trust-grid" id="garantias">
                    <div class="trust-card">
                        +500 <span>Profesionales verificados</span>
                    </div>
                    <div class="trust-card">
                        12 ciudades <span>Cobertura nacional</span>
                    </div>
                    <div class="trust-card">
                        72h <span>Garantía de satisfacción</span>
                    </div>
                    <div class="trust-card">
                        Pagos seguros <span>Protección al comprador</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="landing-footer" id="contacto">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h5>ServicioAhora!</h5>
                    <p>Coordinamos servicios hogareños confiables con soporte humano y seguimiento en tiempo real.</p>
                </div>
                <div class="col-md-4">
                    <h6>Contacto</h6>
                    <ul class="list-unstyled mb-0">
                        <li>Tel: +54 11 5555 1111</li>
                        <li>Email: hola@servicioahora.com</li>
                        <li>Horario: Lunes a domingo 8 a 22 h</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6>Explorá más</h6>
                    <ul class="list-unstyled mb-0">
                        <li><a href="#services">Servicios</a></li>
                        <li><a href="#professionals">Profesionales</a></li>
                        <li><a href="#garantias">Garantías</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom mt-4">
                <small>© @DateTime.Now.Year ServicioAhora!. Todos los derechos reservados.</small>
            </div>
        </div>
    </footer>
</div>

@code {
    private sealed record ServiceModel(string Name, string Description, string Category, string ImageUrl, decimal Price);
    private sealed record ProfessionalModel(string Name, string Specialty, string City, string ImageUrl, double Rating, int Projects);

    private static readonly CultureInfo LocalCulture = new("es-AR");

    private readonly IReadOnlyList<ServiceModel> Services = new List<ServiceModel>
    {
        new("Limpieza profunda integral", "Equipos especializados para dejar tu casa impecable en horas.", "Limpieza",
            "https://images.unsplash.com/photo-1581578731548-c64695cc6952?auto=format&fit=crop&w=900&q=60", 32000),
        new("Mantenimiento de jardines", "Corte, fertilización y diseño sustentable para tus espacios verdes.", "Jardinería",
            "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=900&q=60", 28000),
        new("Reparación eléctrica segura", "Diagnóstico y solución de instalaciones, tableros y luminarias.", "Electricidad",
            "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?auto=format&fit=crop&w=900&q=60", 45000),
        new("Plomería express", "Resolución de fugas, destapaciones y cambio de griferías en el día.", "Plomería",
            "https://images.unsplash.com/photo-1481241999043-63e7ebd5a675?auto=format&fit=crop&w=900&q=60", 36000),
        new("Pintura y retoques", "Renová ambientes con combinaciones modernas y materiales lavables.", "Decoración",
            "https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=900&q=60", 52000),
        new("Asistencia para electrodomésticos", "Servicio técnico para heladeras, lavarropas y climatización.", "Electrodomésticos",
            "https://images.unsplash.com/photo-1523419409543-0c1df022bddb?auto=format&fit=crop&w=900&q=60", 40000)
    };

    private readonly IReadOnlyList<ProfessionalModel> Professionals = new List<ProfessionalModel>
    {
        new("Laura Fernández", "Especialista en organización y limpieza", "Buenos Aires",
            "https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=900&q=60", 4.9, 128),
        new("Mateo Álvarez", "Electricista matriculado", "Córdoba",
            "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=900&q=60", 4.8, 96),
        new("Valentina Castro", "Paisajista y jardinera", "Rosario",
            "https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=900&q=60", 5.0, 142),
        new("Jeremías Luna", "Plomero certificado", "Mendoza",
            "https://images.unsplash.com/photo-1544723795-432537f4aa73?auto=format&fit=crop&w=900&q=60", 4.7, 88),
        new("Marina Quiroga", "Pintora y decoradora", "La Plata",
            "https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?auto=format&fit=crop&w=900&q=60", 4.9, 77),
        new("Andrés Rivas", "Técnico de electrodomésticos", "Neuquén",
            "https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=900&q=60", 4.8, 109)
    };

    private IEnumerable<ServiceModel[]> ServiceSlides => Services.Chunk(3);
    private IEnumerable<ProfessionalModel[]> ProfessionalSlides => Professionals.Chunk(3);
}
